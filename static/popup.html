<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/popup.css" />
    <title>Jelu Importer</title>
  </head>
  <body>
    <main id="app" class="popup">
      <header>
        <h1>Jelu Importer</h1>
      </header>
      <section id="status" class="status"></section>
      <section id="editor" class="editor hidden">
        <form id="import-form">
          <div class="cover-preview">
            <img id="cover-preview-image" alt="Book cover preview" class="hidden" />
            <div id="cover-preview-placeholder" class="cover-placeholder">
              No cover detected yet
            </div>
          </div>
          <label>
            Title
            <input type="text" name="title" id="book-title" required />
          </label>
          <label>
            Authors (comma separated)
            <input type="text" name="authors" id="book-authors" />
          </label>
          <label>
            Narrators (comma separated)
            <input type="text" name="narrators" id="book-narrators" />
          </label>
          <label>
            Tags (comma separated)
            <input type="text" name="tags" id="book-tags" />
          </label>
          <label>
            Series Name
            <input type="text" name="seriesName" id="series-name" />
          </label>
          <label>
            Series Number
            <input type="text" name="seriesNumber" id="series-number" />
          </label>
          <label>
            Publisher
            <input type="text" name="publisher" id="publisher" />
          </label>
          <label>
            Publish Date
            <div class="date-picker-input">
              <input
                type="text"
                id="publish-date"
                name="publishDate"
                inputmode="numeric"
                placeholder="YYYY-MM-DD"
                pattern="\d{4}-\d{2}-\d{2}"
                autocomplete="off"
              />
              <button
                type="button"
                id="publish-date-picker"
                class="icon-button"
                aria-label="Open calendar"
              >
                <span aria-hidden="true">ðŸ“…</span>
              </button>
            </div>
            <div
              id="publish-date-calendar"
              class="date-picker hidden"
              role="dialog"
              aria-modal="false"
            >
              <div class="date-picker-header">
                <button
                  type="button"
                  class="icon-button"
                  id="publish-calendar-prev"
                  aria-label="Previous month"
                >
                  â€¹
                </button>
                <span id="publish-calendar-month"></span>
                <select id="publish-calendar-year" aria-label="Select year"></select>
                <button
                  type="button"
                  class="icon-button"
                  id="publish-calendar-next"
                  aria-label="Next month"
                >
                  â€º
                </button>
              </div>
              <div class="date-picker-grid" id="publish-calendar-grid"></div>
            </div>
          </label>
          <label>
            Page Count
            <input type="number" name="pageCount" id="page-count" min="1" />
          </label>
          <label>
            Description
            <textarea name="description" id="description" rows="4"></textarea>
          </label>
          <div class="ids">
            <label>ISBN-10 <input type="text" id="isbn10" /></label>
            <label>ISBN-13 <input type="text" id="isbn13" /></label>
            <label>ASIN <input type="text" id="asin" /></label>
            <label>Goodreads ID <input type="text" id="goodreadsId" /></label>
            <label>Amazon ID <input type="text" id="amazonId" /></label>
          </div>
          <label class="checkbox">
            <input type="checkbox" id="add-to-library" />
            Add to my Jelu library
          </label>
          <label class="checkbox">
            <input type="checkbox" id="mark-finished" />
            Mark as finished
          </label>
          <label id="finished-date-wrapper" class="hidden">
            Finished Date
            <div class="date-picker-input">
              <input
                type="text"
                id="finished-date"
                inputmode="numeric"
                placeholder="YYYY-MM-DD"
                pattern="\d{4}-\d{2}-\d{2}"
                autocomplete="off"
              />
              <button
                type="button"
                id="finished-date-picker"
                class="icon-button"
                aria-label="Open calendar"
              >
                <span aria-hidden="true">ðŸ“…</span>
              </button>
            </div>
            <div
              id="finished-date-calendar"
              class="date-picker hidden"
              role="dialog"
              aria-modal="false"
            >
              <div class="date-picker-header">
                <button
                  type="button"
                  class="icon-button"
                  id="calendar-prev"
                  aria-label="Previous month"
                >
                  â€¹
                </button>
                <span id="calendar-month"></span>
                <select id="calendar-year" aria-label="Select year"></select>
                <button
                  type="button"
                  class="icon-button"
                  id="calendar-next"
                  aria-label="Next month"
                >
                  â€º
                </button>
              </div>
              <div class="date-picker-grid" id="calendar-grid"></div>
            </div>
          </label>
          <div class="form-actions">
            <button type="submit" id="submit-button">
              <span>Send to Jelu</span>
            </button>
            <span id="submit-spinner" class="spinner hidden" aria-hidden="true"></span>
            <div id="import-status" class="status status-inline" role="status"></div>
          </div>
        </form>
      </section>
    </main>
    <script type="module" src="popup.js"></script>
  </body>
</html>
